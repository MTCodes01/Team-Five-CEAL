<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>AFK Timer | UselessHub</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div id="logo">HVH</div>
  <div class="container">
    <h1>AFK Timer</h1>
    <p id="timer">00:00</p>
    <p id="status">Status: <span style="color:green;">Idle</span></p>
    <p id="message"></p>
    <p id="zen-counter"></p>
    <canvas id="confetti-canvas"></canvas>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script src="hvh.js"></script>
  <script>
    let logo = document.getElementById("logo");
    let clickCount = 0;

    logo.addEventListener("click", () => {
      clickCount++;
      if (clickCount >= 5) {
        window.location.href = "havis.html";
        clickCount = 0;
      }
    });
  </script>
  <script>
    let timerDisplay = document.getElementById("timer");
    let statusDisplay = document.getElementById("status");
    let messageDisplay = document.getElementById("message");
    let zenDisplay = document.getElementById("zen-counter");

    let minutes = 0, seconds = 0;
    let isIdle = true;
    let afkTime = 0;
    let zenPoints = 0;
    let currentMessage = "";
    let hasShownMessage = false;

    const praiseMessages = [
      "You're a still-life painting.",
      "Motionless excellence!",
      "Truly doing nothingâ€¦ spectacularly.",
      "Zero input. Infinite peace.",
      "Still. Silent. Supreme.",
      "Master of the art of nothingness.",
      "Professional procrastinator level achieved.",
      "Even sloths are impressed by your stillness.",
      "Congratulations on your commitment to inactivity!",
      "You've unlocked the secret of absolute stillness.",
      "The universe applauds your dedication to doing nothing.",
      "Zen masters everywhere are taking notes."
    ];

    const disappointedMessages = [
      "ğŸ¤¨ Hey... you moved.",
      "ğŸ˜” The magic is broken...",
      "ğŸ™„ Really? You had to move?",
      "ğŸ˜¤ Your stillness streak is ruined!",
      "ğŸ¤¦ So close to enlightenment...",
      "ğŸ’” My heart breaks with your movement.",
      "ğŸ˜± MOVEMENT DETECTED! ALERT! ALERT!",
      "ğŸš¨ The Department of Doing Nothing is disappointed.",
      "ğŸ˜¿ Even cats are better at staying still.",
      "ğŸŒªï¸ You've disturbed the cosmic balance!",
      "ğŸ™ˆ I can't watch... you moved again!",
      "ğŸ’¸ There goes your stillness investment...",
      "ğŸ­ The performance is ruined!",
      "âš¡ Movement detected. Zen points deducted from the universe.",
      "ğŸª Ladies and gentlemen, we have a mover!"
    ];

    function updateTimer() {
      if (isIdle) {
        seconds++;
        afkTime++;
        
        // Zen points every 30 seconds
        if (afkTime % 30 === 0) {
          zenPoints++;
          zenDisplay.textContent = `ğŸ§˜ Zen Points: ${zenPoints}`;
          zenDisplay.style.color = '#4ecdc4';
        }

        if (seconds === 60) {
          seconds = 0;
          minutes++;
          confetti(); // burst every minute
        }

        timerDisplay.textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;

        // Show praise message only once every 30 seconds, keep it until next cycle
        if (afkTime % 30 === 0 && !hasShownMessage) {
          currentMessage = praiseMessages[Math.floor(Math.random() * praiseMessages.length)];
          messageDisplay.textContent = currentMessage;
          messageDisplay.style.color = '#ffa726';
          hasShownMessage = true;
        }

        // Special milestone celebrations
        if (afkTime === 120) { // 2 minutes
          confetti({
            particleCount: 100,
            spread: 70,
            origin: { y: 0.6 }
          });
          currentMessage = "ğŸ‰ 2 MINUTES OF PURE NOTHINGNESS! LEGENDARY!";
          messageDisplay.textContent = currentMessage;
          messageDisplay.style.color = '#ff6b6b';
        }

        if (afkTime === 300) { // 5 minutes
          confetti({
            particleCount: 200,
            spread: 100,
            origin: { y: 0.6 },
            colors: ['#ffd700', '#ff6b6b', '#4ecdc4', '#ab47bc']
          });
          currentMessage = "ğŸ† 5 MINUTES! PROFESSIONAL STATUE STATUS ACHIEVED!";
          messageDisplay.textContent = currentMessage;
          messageDisplay.style.color = '#ffd700';
        }

        if (afkTime === 600) { // 10 minutes
          confetti({
            particleCount: 300,
            spread: 180,
            origin: { y: 0.3 },
            colors: ['#ffd700', '#ff6b6b', '#4ecdc4', '#ab47bc', '#66bb6a']
          });
          currentMessage = "ğŸ‘‘ 10 MINUTES! BOW TO THE EMPEROR/EMPRESS OF IDLENESS!";
          messageDisplay.textContent = currentMessage;
          messageDisplay.style.color = '#ffd700';
          messageDisplay.style.textShadow = '0 0 20px #ffd700';
        }
      }
    }

    setInterval(updateTimer, 1000);

    let timeout;

    function resetIdleTimer() {
      isIdle = false;
      statusDisplay.innerHTML = 'Status: <span style="color:red;">You moved</span>';
      
      // Show a unique disappointed message and keep it until idle starts again
      const disappointedMessage = disappointedMessages[Math.floor(Math.random() * disappointedMessages.length)];
      messageDisplay.textContent = disappointedMessage;
      messageDisplay.style.color = '#ff6b6b';
      messageDisplay.style.textShadow = 'none';
      
      afkTime = 0;
      hasShownMessage = false; // Reset flag so new message can show when idle starts

      clearTimeout(timeout);
      timeout = setTimeout(() => {
        isIdle = true;
        statusDisplay.innerHTML = 'Status: <span style="color:green;">Idle</span>';
        messageDisplay.textContent = "âœ¨ Welcome back to the art of doing nothing!";
        messageDisplay.style.color = '#66bb6a';
        hasShownMessage = false; // Reset for new cycle
      }, 3000);
    }

    let isResetting = false;

    function handleUserActivity() {
      if (!isResetting) {
      isResetting = true;
      resetIdleTimer();
      
      // Clear any existing timeout
      clearTimeout(timeout);
      
      // Set a new timeout that will only trigger if no more activity occurs
      timeout = setTimeout(() => {
        isIdle = true;
        isResetting = false;
        statusDisplay.innerHTML = 'Status: <span style="color:green;">Idle</span>';
        messageDisplay.textContent = "âœ¨ Welcome back to the art of doing nothing!";
        messageDisplay.style.color = '#66bb6a';
        hasShownMessage = false;
      }, 3000);
      } else {
      // User is still moving, reset the timeout
      clearTimeout(timeout);
      timeout = setTimeout(() => {
        isIdle = true;
        isResetting = false;
        statusDisplay.innerHTML = 'Status: <span style="color:green;">Idle</span>';
        messageDisplay.textContent = "âœ¨ Welcome back to the art of doing nothing!";
        messageDisplay.style.color = '#66bb6a';
        hasShownMessage = false;
      }, 3000);
      }
    }

    ['mousemove', 'keydown', 'scroll', 'touchstart'].forEach(event =>
      document.addEventListener(event, handleUserActivity)
    );

    // Initialize
    zenDisplay.textContent = "ğŸ§˜ Zen Points: 0";
    messageDisplay.textContent = "ğŸ’­ Begin your journey into the void of productivity...";
    messageDisplay.style.color = '#ab47bc';
  </script>
</body>

</html>